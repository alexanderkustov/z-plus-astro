---
import BaseLayout from "../layouts/BaseLayout.astro";
import ZPlusLogo from "../components/ZPlusLogo.jsx";
---

<BaseLayout title="Z+ | Home">
  <section class="home-hero">
    <div class="hero-content">
      <div class="hero-logo-container">
        <p class="eyebrow static-eyebrow">Z+</p>
        <div class="animated-logo">
          <ZPlusLogo client:load />
        </div>
      </div>
      <h1>Global career acceleration for ambitious international talent.</h1>
      <p class="hero-lede">
        We design bespoke coaching, placement support, and business guidance
        that help you land elite opportunities in the UK and beyond.
      </p>
      <div class="hero-actions">
        <a class="button primary" href="/services">Explore services</a>
        <a class="button ghost" href="/case-studies">View success stories</a>
      </div>
    </div>
    <div class="hero-grid" aria-label="Highlights">
      <article>
        <h3>Offer-ready coaching</h3>
        <p>
          Structured plans, mock interviews, and recruiter insight to secure top
          roles.
        </p>
      </article>
      <article>
        <h3>Placement guarantee</h3>
        <p>
          Holiday internships matched to your goals with a proven success track
          record.
        </p>
      </article>
      <article>
        <h3>Founder advisory</h3>
        <p>
          Market entry guidance and operational support for overseas
          entrepreneurs.
        </p>
      </article>
    </div>
  </section>

  <section class="home-section">
    <h2>Where we make the difference</h2>
    <div class="focus-grid">
      <article>
        <h3>Career positioning</h3>
        <p>
          Define a compelling narrative and target roles that suit your
          long-term goals.
        </p>
      </article>
      <article>
        <h3>Elite preparation</h3>
        <p>
          Build confidence with personalized training across business,
          leadership, and delivery.
        </p>
      </article>
      <article>
        <h3>International network</h3>
        <p>
          Access mentors, alumni, and partners across high-growth sectors in the
          UK.
        </p>
      </article>
      <article>
        <h3>Outcome tracking</h3>
        <p>
          Stay accountable with progress dashboards, weekly check-ins, and
          milestone reviews.
        </p>
      </article>
      <div class="focus-plus" aria-hidden="true">+</div>
    </div>
  </section>

  <section class="home-section">
    <h2>Results that speak</h2>
    <div class="stat-grid">
      <article>
        <p class="stat">96%</p>
        <p class="stat-label">
          Clients secure internships or full-time offers within six months.
        </p>
      </article>
      <article>
        <p class="stat">120+</p>
        <p class="stat-label">
          Partners across finance, consulting, and technology.
        </p>
      </article>
      <article>
        <p class="stat">1:1</p>
        <p class="stat-label">
          Dedicated coaching with curated career roadmaps.
        </p>
      </article>
    </div>
  </section>

  <section class="home-section map-section">
    <h2>Interactive outcomes map</h2>
    <p class="section-lede">
      Explore where our clients start their journeys and the UK cities where
      they land roles. Sample routes shown—swap in your latest placement data.
    </p>
    <div class="map-card">
      <div class="map-legend">
        <p class="map-legend-title">Select a journey</p>
        <div class="route-list">
          <button
            class="route-button"
            data-route="lagos-london"
            data-origin="Lagos, Nigeria"
            data-destination="London, UK"
            data-role="Financial Analyst"
            data-industry="Finance"
          >
            Lagos → London
          </button>
          <button
            class="route-button"
            data-route="beijing-manchester"
            data-origin="Beijing, China"
            data-destination="Manchester, UK"
            data-role="Data Scientist"
            data-industry="Technology"
          >
            Beijing → Manchester
          </button>
          <button
            class="route-button"
            data-route="mumbai-edinburgh"
            data-origin="Mumbai, India"
            data-destination="Edinburgh, UK"
            data-role="Product Manager"
            data-industry="SaaS"
          >
            Mumbai → Edinburgh
          </button>
          <button
            class="route-button"
            data-route="sao-paulo-birmingham"
            data-origin="São Paulo, Brazil"
            data-destination="Birmingham, UK"
            data-role="Growth Associate"
            data-industry="Consulting"
          >
            São Paulo → Birmingham
          </button>
        </div>
        <div class="route-details">
          <p class="route-city">Lagos → London</p>
          <p class="route-role">Financial Analyst · Finance</p>
        </div>
      </div>
      <div class="map-visual" role="img" aria-label="Stylized world map">
        <div class="map-canvas">
          <svg
            class="map-lines"
            viewBox="0 0 800 400"
            aria-hidden="true"
            preserveAspectRatio="xMidYMid meet"
          >
            <path
              data-route="lagos-london"
              d="M210 250 C320 180, 420 150, 480 120"
            ></path>
            <path
              data-route="beijing-manchester"
              d="M610 150 C560 120, 520 140, 500 130"
            ></path>
            <path
              data-route="mumbai-edinburgh"
              d="M540 210 C520 170, 510 150, 495 120"
            ></path>
            <path
              data-route="sao-paulo-birmingham"
              d="M250 300 C360 220, 430 170, 470 140"
            ></path>
          </svg>
          <div
            class="map-marker origin"
            style="--x: 26%; --y: 63%;"
            data-route="lagos-london"
            aria-label="Lagos, Nigeria"
          ></div>
          <div
            class="map-marker destination"
            style="--x: 60%; --y: 30%;"
            data-route="lagos-london"
            aria-label="London, UK"
          ></div>
          <div
            class="map-marker origin"
            style="--x: 74%; --y: 38%;"
            data-route="beijing-manchester"
            aria-label="Beijing, China"
          ></div>
          <div
            class="map-marker destination"
            style="--x: 63%; --y: 33%;"
            data-route="beijing-manchester"
            aria-label="Manchester, UK"
          ></div>
          <div
            class="map-marker origin"
            style="--x: 66%; --y: 52%;"
            data-route="mumbai-edinburgh"
            aria-label="Mumbai, India"
          ></div>
          <div
            class="map-marker destination"
            style="--x: 61%; --y: 28%;"
            data-route="mumbai-edinburgh"
            aria-label="Edinburgh, UK"
          ></div>
          <div
            class="map-marker origin"
            style="--x: 32%; --y: 75%;"
            data-route="sao-paulo-birmingham"
            aria-label="São Paulo, Brazil"
          ></div>
          <div
            class="map-marker destination"
            style="--x: 59%; --y: 35%;"
            data-route="sao-paulo-birmingham"
            aria-label="Birmingham, UK"
          ></div>
        </div>
      </div>
    </div>
  </section>

  <section class="home-section home-cta">
    <div>
      <h2>Ready to move faster?</h2>
      <p>
        Book a strategy session and we will map the exact steps from your
        current position to your next opportunity.
      </p>
    </div>
    <a
      class="button primary email-link"
      data-email-user="info"
      data-email-domain="z-plus.co.uk"
    >
      Schedule a consultation
    </a>
  </section>

  <script type="module">
    import {
      animate,
      inView,
      stagger,
    } from "https://cdn.jsdelivr.net/npm/motion@10.18.0/+esm";

    const prefersReducedMotion = window.matchMedia(
      "(prefers-reduced-motion: reduce)",
    ).matches;

    const h1 = document.querySelector(".hero-content h1");
    if (h1) {
      h1.addEventListener("mouseenter", () => {
        window.dispatchEvent(new Event("z-plus-rotate"));
      });
    }

    if (!prefersReducedMotion) {
      animate(
        ".home-hero .hero-content > *",
        { opacity: [0, 1], y: [18, 0] },
        { duration: 0.7, delay: stagger(0.1), easing: "ease-out" },
      );

      animate(
        ".home-hero .hero-grid article",
        { opacity: [0, 1], y: [20, 0] },
        {
          duration: 0.7,
          delay: stagger(0.12, { start: 0.25 }),
          easing: "ease-out",
        },
      );

      inView(
        ".home-section",
        (info) => {
          animate(
            info.target,
            { opacity: [0, 1], y: [24, 0] },
            { duration: 0.7, easing: "ease-out" },
          );
        },
        { margin: "-15% 0px", once: true },
      );
    }

    const routeButtons = document.querySelectorAll(".route-button");
    const routeDetailsCity = document.querySelector(".route-city");
    const routeDetailsRole = document.querySelector(".route-role");
    const mapRoutes = document.querySelectorAll(".map-lines [data-route]");
    const mapMarkers = document.querySelectorAll(".map-marker");

    const setActiveRoute = (routeId) => {
      routeButtons.forEach((button) => {
        button.classList.toggle("active", button.dataset.route === routeId);
      });

      mapRoutes.forEach((path) => {
        path.classList.toggle("active", path.dataset.route === routeId);
      });

      mapMarkers.forEach((marker) => {
        marker.classList.toggle("active", marker.dataset.route === routeId);
      });
    };

    routeButtons.forEach((button) => {
      button.addEventListener("click", () => {
        const { route, origin, destination, role, industry } = button.dataset;
        if (routeDetailsCity) {
          routeDetailsCity.textContent = `${origin} → ${destination}`;
        }
        if (routeDetailsRole) {
          routeDetailsRole.textContent = `${role} · ${industry}`;
        }
        setActiveRoute(route);
      });
    });

    if (routeButtons.length > 0) {
      routeButtons[0].click();
    }
  </script>

  <style>
    .section-lede {
      max-width: 680px;
      margin: 0 0 32px;
      font-size: 1.1rem;
      opacity: 0.85;
    }

    .map-card {
      display: grid;
      gap: 32px;
      grid-template-columns: minmax(240px, 1fr) minmax(0, 2fr);
      padding: 32px;
      border-radius: 28px;
      border: 2px solid var(--fg-color);
      background: var(--bg-color);
      box-shadow: 10px 10px 0 var(--fg-color);
    }

    .map-legend {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .map-legend-title {
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 0.8rem;
      opacity: 0.7;
      margin: 0;
    }

    .route-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .route-button {
      text-align: left;
      padding: 12px 16px;
      border-radius: 14px;
      border: 1px solid transparent;
      background: var(--accent-soft);
      color: var(--fg-color);
      font-weight: 600;
      cursor: pointer;
      transition:
        transform 0.2s ease,
        border-color 0.2s ease,
        box-shadow 0.2s ease;
    }

    .route-button:hover,
    .route-button:focus-visible {
      transform: translateY(-2px);
      border-color: var(--accent-color);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }

    .route-button.active {
      background: var(--accent-color);
      color: var(--bg-color);
      border-color: var(--accent-color);
    }

    .route-details {
      padding: 16px;
      border-radius: 16px;
      border: 1px dashed var(--fg-color);
      background: rgba(0, 0, 0, 0.02);
    }

    .route-details p {
      margin: 0;
    }

    .route-city {
      font-weight: 600;
      margin-bottom: 6px;
    }

    .route-role {
      opacity: 0.75;
    }

    .map-visual {
      position: relative;
      min-height: 320px;
    }

    .map-canvas {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 24px;
      background:
        radial-gradient(circle at 20% 35%, rgba(0, 0, 0, 0.08), transparent 45%),
        radial-gradient(circle at 50% 30%, rgba(0, 0, 0, 0.08), transparent 45%),
        radial-gradient(circle at 75% 55%, rgba(0, 0, 0, 0.08), transparent 50%),
        radial-gradient(circle at 35% 70%, rgba(0, 0, 0, 0.08), transparent 55%),
        linear-gradient(135deg, #f7f5ff, #f2f8ff);
      border: 1px solid rgba(0, 0, 0, 0.08);
      overflow: hidden;
    }

    .map-lines {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    .map-lines path {
      fill: none;
      stroke: rgba(0, 0, 0, 0.2);
      stroke-width: 2.5;
      stroke-dasharray: 6 8;
      opacity: 0.4;
      transition: opacity 0.2s ease, stroke 0.2s ease;
    }

    .map-lines path.active {
      stroke: var(--accent-color);
      opacity: 0.9;
    }

    .map-marker {
      position: absolute;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      left: var(--x);
      top: var(--y);
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.3);
      box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, background 0.2s ease,
        box-shadow 0.2s ease;
    }

    .map-marker.destination {
      background: var(--fg-color);
    }

    .map-marker.active {
      background: var(--accent-color);
      box-shadow: 0 0 0 8px rgba(255, 122, 98, 0.25);
      transform: translate(-50%, -50%) scale(1.15);
    }

    @media (max-width: 900px) {
      .map-card {
        grid-template-columns: 1fr;
      }

      .map-visual {
        min-height: 260px;
      }
    }
  </style>
</BaseLayout>
